{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gunad\\\\OneDrive\\\\Documents\\\\Book_Recommendation\\\\Book_Recommendation\\\\Book_Recommendation\\\\frontend\\\\src\\\\components\\\\Book\\\\book.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport './Book.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Book extends React.Component {\n  constructor(props) {\n    super(props);\n    this.USER_GENRES_URL = 'http://localhost:5000/api/users/genres';\n    this.SEARCH_URL = 'https://www.googleapis.com/books/v1/volumes/';\n    this.VIEWED_BOOKS_URL = 'http://localhost:5000/api/viewed-books';\n    this.fetchUserGenres = () => {\n      const username = localStorage.getItem('username');\n      if (username) {\n        axios.get(`${this.USER_GENRES_URL}?username=${username}`).then(res => {\n          this.setState({\n            userGenres: res.data.genres\n          }, this.fetchRecommendedBooks);\n        }).catch(error => {\n          console.error('Error fetching user genres:', error);\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        });\n      } else {\n        console.error('No username found in localStorage');\n        this.setState({\n          isLoaded: true,\n          userGenres: []\n        });\n      }\n    };\n    this.fetchViewedBooks = async () => {\n      const username = localStorage.getItem('username');\n      if (username) {\n        try {\n          const response = await axios.get(`${this.VIEWED_BOOKS_URL}?username=${username}`);\n          const viewedBooksData = response.data.viewedBooks;\n          if (viewedBooksData.length > 0) {\n            const viewedBooksRequests = viewedBooksData.map(book => axios.get(`${this.SEARCH_URL}${book.bookId}`).then(res => ({\n              ...book,\n              details: res.data.volumeInfo\n            })).catch(error => {\n              console.error(`Error fetching book details for bookId ${book.bookId}:`, error);\n              return null;\n            }));\n            const viewedBooks = await Promise.all(viewedBooksRequests);\n            this.setState({\n              viewedBooks: viewedBooks.filter(book => book && book.details),\n              isLoaded: true\n            });\n          } else {\n            this.setState({\n              viewedBooks: [],\n              isLoaded: true\n            });\n          }\n        } catch (error) {\n          console.error('Error fetching viewed books:', error);\n          this.setState({\n            error,\n            isLoaded: true\n          });\n        }\n      } else {\n        console.error('No username found in localStorage');\n      }\n    };\n    this.fetchRecommendedBooks = () => {\n      const {\n        userGenres\n      } = this.state;\n      const requests = userGenres.map(genre => {\n        const genreQuery = `subject:${genre}&maxResults=20`;\n        return axios.get(`${this.SEARCH_URL}?q=${genreQuery}`);\n      });\n      Promise.all(requests).then(responses => {\n        const recommendedBooks = {};\n        responses.forEach((response, index) => {\n          const genre = userGenres[index];\n          recommendedBooks[genre] = response.data.items || [];\n        });\n        this.setState({\n          isLoaded: true,\n          recommendedBooks,\n          error: null\n        });\n      }).catch(error => {\n        console.error('Error fetching recommended books:', error);\n        this.setState({\n          isLoaded: true,\n          error,\n          recommendedBooks: {}\n        });\n      });\n    };\n    this.handleBookClick = (id, title) => {\n      const username = localStorage.getItem('username');\n      if (username) {\n        localStorage.setItem('selectedBookId', id);\n        localStorage.setItem('selectedBookTitle', title);\n        axios.post('http://localhost:5000/api/log-viewed-book', {\n          username,\n          bookId: id,\n          bookTitle: title\n        }).then(response => {\n          console.log(response.data.message);\n          this.fetchViewedBooks();\n        }).catch(error => {\n          console.error(\"Error logging viewed book:\", error);\n        });\n      } else {\n        console.error(\"Username not found in localStorage\");\n      }\n    };\n    this.state = {\n      error: null,\n      isLoaded: false,\n      recommendedBooks: {},\n      userGenres: [],\n      viewedBooks: []\n    };\n  }\n  componentDidMount() {\n    this.fetchUserGenres();\n    this.fetchViewedBooks();\n  }\n  render() {\n    const {\n      error,\n      isLoaded,\n      recommendedBooks,\n      userGenres,\n      viewedBooks\n    } = this.state;\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Error: \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 20\n      }, this);\n    } else if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"book-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recently-read-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Books You\\u2019ve Read\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-list-recent\",\n            children: viewedBooks.length > 0 ? viewedBooks.map(book => {\n              var _book$details$imageLi, _book$details$authors;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"book-card-recent\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: (_book$details$imageLi = book.details.imageLinks) === null || _book$details$imageLi === void 0 ? void 0 : _book$details$imageLi.thumbnail,\n                  alt: \"Book cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: book.details.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"by \", (_book$details$authors = book.details.authors) === null || _book$details$authors === void 0 ? void 0 : _book$details$authors.join(', ')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Read \", book.viewCount, \" times\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/book/${book.bookId}/${encodeURIComponent(book.details.title)}`,\n                  className: \"button-view-details\",\n                  onClick: () => this.handleBookClick(book.bookId, book.details.title),\n                  children: \"Continue Reading\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 41\n                }, this)]\n              }, book.bookId, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 37\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No previously read books found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"genre-preferences-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your Favorite Genres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"genre-list\",\n            children: userGenres.length > 0 ? userGenres.map((genre, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: genre\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 37\n            }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"No favorite genres found.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"book-recommendations-section\",\n          children: Object.keys(recommendedBooks).length > 0 ? Object.entries(recommendedBooks).map(([genre, books]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"genre-recommendations\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [genre, \" Recommendations\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"book-list-genre\",\n              children: books.length > 0 ? books.map(item => {\n                var _item$volumeInfo, _item$volumeInfo$imag, _item$volumeInfo2, _item$volumeInfo3, _item$volumeInfo3$aut, _item$volumeInfo4;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"book-card-genre\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: (_item$volumeInfo = item.volumeInfo) === null || _item$volumeInfo === void 0 ? void 0 : (_item$volumeInfo$imag = _item$volumeInfo.imageLinks) === null || _item$volumeInfo$imag === void 0 ? void 0 : _item$volumeInfo$imag.thumbnail,\n                    alt: \"Book cover\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"book-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: (_item$volumeInfo2 = item.volumeInfo) === null || _item$volumeInfo2 === void 0 ? void 0 : _item$volumeInfo2.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"by \", (_item$volumeInfo3 = item.volumeInfo) === null || _item$volumeInfo3 === void 0 ? void 0 : (_item$volumeInfo3$aut = _item$volumeInfo3.authors) === null || _item$volumeInfo3$aut === void 0 ? void 0 : _item$volumeInfo3$aut.join(', ')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/book/${item.id}/${encodeURIComponent((_item$volumeInfo4 = item.volumeInfo) === null || _item$volumeInfo4 === void 0 ? void 0 : _item$volumeInfo4.title)}`,\n                      className: \"button-view-details\",\n                      onClick: () => {\n                        var _item$volumeInfo5;\n                        return this.handleBookClick(item.id, (_item$volumeInfo5 = item.volumeInfo) === null || _item$volumeInfo5 === void 0 ? void 0 : _item$volumeInfo5.title);\n                      },\n                      children: \"View Details\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 49\n                  }, this)]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 45\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No books available for this genre.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 37\n            }, this)]\n          }, genre, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 33\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No book recommendations found.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this);\n    }\n  }\n}\nexport default Book;","map":{"version":3,"names":["React","axios","Link","jsxDEV","_jsxDEV","Book","Component","constructor","props","USER_GENRES_URL","SEARCH_URL","VIEWED_BOOKS_URL","fetchUserGenres","username","localStorage","getItem","get","then","res","setState","userGenres","data","genres","fetchRecommendedBooks","catch","error","console","isLoaded","fetchViewedBooks","response","viewedBooksData","viewedBooks","length","viewedBooksRequests","map","book","bookId","details","volumeInfo","Promise","all","filter","state","requests","genre","genreQuery","responses","recommendedBooks","forEach","index","items","handleBookClick","id","title","setItem","post","bookTitle","log","message","componentDidMount","render","children","fileName","_jsxFileName","lineNumber","columnNumber","className","_book$details$imageLi","_book$details$authors","src","imageLinks","thumbnail","alt","authors","join","viewCount","to","encodeURIComponent","onClick","Object","keys","entries","books","item","_item$volumeInfo","_item$volumeInfo$imag","_item$volumeInfo2","_item$volumeInfo3","_item$volumeInfo3$aut","_item$volumeInfo4","_item$volumeInfo5"],"sources":["C:/Users/gunad/OneDrive/Documents/Book_Recommendation/Book_Recommendation/Book_Recommendation/frontend/src/components/Book/book.js"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport './Book.css';\r\n\r\nclass Book extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            isLoaded: false,\r\n            recommendedBooks: {}, \r\n            userGenres: [],\r\n            viewedBooks: [],\r\n        };\r\n    }\r\n\r\n    USER_GENRES_URL = 'http://localhost:5000/api/users/genres';\r\n    SEARCH_URL = 'https://www.googleapis.com/books/v1/volumes/';\r\n    VIEWED_BOOKS_URL = 'http://localhost:5000/api/viewed-books';\r\n\r\n    componentDidMount() {\r\n        this.fetchUserGenres();\r\n        this.fetchViewedBooks();\r\n    }\r\n\r\n    fetchUserGenres = () => {\r\n        const username = localStorage.getItem('username');\r\n        if (username) {\r\n            axios.get(`${this.USER_GENRES_URL}?username=${username}`)\r\n                .then(res => {\r\n                    this.setState({ userGenres: res.data.genres }, this.fetchRecommendedBooks);\r\n                })\r\n                .catch(error => {\r\n                    console.error('Error fetching user genres:', error);\r\n                    this.setState({ isLoaded: true, error });\r\n                });\r\n        } else {\r\n            console.error('No username found in localStorage');\r\n            this.setState({ isLoaded: true, userGenres: [] });\r\n        }\r\n    };\r\n\r\n    fetchViewedBooks = async () => {\r\n        const username = localStorage.getItem('username');\r\n        if (username) {\r\n            try {\r\n                const response = await axios.get(`${this.VIEWED_BOOKS_URL}?username=${username}`);\r\n                const viewedBooksData = response.data.viewedBooks;\r\n\r\n                if (viewedBooksData.length > 0) {\r\n                    const viewedBooksRequests = viewedBooksData.map(book =>\r\n                        axios.get(`${this.SEARCH_URL}${book.bookId}`)\r\n                            .then(res => ({\r\n                                ...book,\r\n                                details: res.data.volumeInfo,\r\n                            }))\r\n                            .catch(error => {\r\n                                console.error(`Error fetching book details for bookId ${book.bookId}:`, error);\r\n                                return null;\r\n                            })\r\n                    );\r\n\r\n                    const viewedBooks = await Promise.all(viewedBooksRequests);\r\n                    this.setState({\r\n                        viewedBooks: viewedBooks.filter(book => book && book.details),\r\n                        isLoaded: true,\r\n                    });\r\n                } else {\r\n                    this.setState({ viewedBooks: [], isLoaded: true });\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching viewed books:', error);\r\n                this.setState({ error, isLoaded: true });\r\n            }\r\n        } else {\r\n            console.error('No username found in localStorage');\r\n        }\r\n    };\r\n\r\n    fetchRecommendedBooks = () => {\r\n        const { userGenres } = this.state;\r\n        const requests = userGenres.map(genre => {\r\n            const genreQuery = `subject:${genre}&maxResults=20`;\r\n            return axios.get(`${this.SEARCH_URL}?q=${genreQuery}`);\r\n        });\r\n\r\n        Promise.all(requests)\r\n            .then(responses => {\r\n                const recommendedBooks = {};\r\n                responses.forEach((response, index) => {\r\n                    const genre = userGenres[index];\r\n                    recommendedBooks[genre] = response.data.items || [];\r\n                });\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    recommendedBooks,\r\n                    error: null,\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching recommended books:', error);\r\n                this.setState({\r\n                    isLoaded: true,\r\n                    error,\r\n                    recommendedBooks: {}\r\n                });\r\n            });\r\n    };\r\n\r\n    handleBookClick = (id, title) => {\r\n        const username = localStorage.getItem('username');\r\n        if (username) {\r\n            localStorage.setItem('selectedBookId', id);\r\n            localStorage.setItem('selectedBookTitle', title);\r\n\r\n            axios.post('http://localhost:5000/api/log-viewed-book', {\r\n                username,\r\n                bookId: id,\r\n                bookTitle: title\r\n            })\r\n            .then(response => {\r\n                console.log(response.data.message);\r\n                this.fetchViewedBooks();\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error logging viewed book:\", error);\r\n            });\r\n        } else {\r\n            console.error(\"Username not found in localStorage\");\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { error, isLoaded, recommendedBooks, userGenres, viewedBooks } = this.state;\r\n\r\n        if (error) {\r\n            return <div>Error: {error.message}</div>;\r\n        } else if (!isLoaded) {\r\n            return <div>Loading...</div>;\r\n        } else {\r\n            return (\r\n                <div className=\"book-wrapper\">\r\n                    <div className=\"recently-read-section\">\r\n                        <h2>Books Youâ€™ve Read</h2>\r\n                        <div className=\"book-list-recent\">\r\n                            {viewedBooks.length > 0 ? (\r\n                                viewedBooks.map(book => (\r\n                                    <div key={book.bookId} className=\"book-card-recent\">\r\n                                        <img src={book.details.imageLinks?.thumbnail} alt=\"Book cover\" />\r\n                                        <h4>{book.details.title}</h4>\r\n                                        <p>by {book.details.authors?.join(', ')}</p>\r\n                                        <p>Read {book.viewCount} times</p>\r\n                                        <Link \r\n                                            to={`/book/${book.bookId}/${encodeURIComponent(book.details.title)}`} \r\n                                            className=\"button-view-details\"\r\n                                            onClick={() => this.handleBookClick(book.bookId, book.details.title)}\r\n                                        >\r\n                                            Continue Reading\r\n                                        </Link>\r\n                                    </div>\r\n                                ))\r\n                            ) : (\r\n                                <p>No previously read books found.</p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"genre-preferences-section\">\r\n                        <h2>Your Favorite Genres</h2>\r\n                        <ul className=\"genre-list\">\r\n                            {userGenres.length > 0 ? (\r\n                                userGenres.map((genre, index) => (\r\n                                    <li key={index}>{genre}</li>\r\n                                ))\r\n                            ) : (\r\n                                <li>No favorite genres found.</li>\r\n                            )}\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div className=\"book-recommendations-section\">\r\n                        {Object.keys(recommendedBooks).length > 0 ? (\r\n                            Object.entries(recommendedBooks).map(([genre, books]) => (\r\n                                <div key={genre} className=\"genre-recommendations\">\r\n                                    <h3>{genre} Recommendations</h3>\r\n                                    <div className=\"book-list-genre\">\r\n                                        {books.length > 0 ? books.map((item) => (\r\n                                            <div key={item.id} className=\"book-card-genre\">\r\n                                                <img src={item.volumeInfo?.imageLinks?.thumbnail} alt=\"Book cover\" />\r\n                                                <div className=\"book-details\">\r\n                                                    <h4>{item.volumeInfo?.title}</h4>\r\n                                                    <p>by {item.volumeInfo?.authors?.join(', ')}</p>\r\n                                                    <Link \r\n                                                        to={`/book/${item.id}/${encodeURIComponent(item.volumeInfo?.title)}`} \r\n                                                        className=\"button-view-details\"\r\n                                                        onClick={() => this.handleBookClick(item.id, item.volumeInfo?.title)}\r\n                                                    >\r\n                                                        View Details\r\n                                                    </Link>\r\n                                                </div>\r\n                                            </div>\r\n                                        )) : (\r\n                                            <p>No books available for this genre.</p>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <p>No book recommendations found.</p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default Book;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}